@page "/"
@using System.Text.RegularExpressions
@using Foresite.Services
@using Foresite.Components.Shared
@inject WhazzupService whazzup
@inject NavigationManager nav
@inject CifpService cifp
@using Microsoft.AspNetCore.Components.QuickGrid

<PageTitle>Foresite Home</PageTitle>

<Scope></Scope>

@code
{
	Pilot[] _pilots => whazzup.Data?.clients.pilots ?? [];

	protected override void OnAfterRender(bool firstRender)
	{
		if (!firstRender)
			return;

		whazzup.DataUpdated += async _ => await InvokeAsync(StateHasChanged);
	}
}